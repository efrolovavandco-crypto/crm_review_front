<div class="container py-5">
  <div class="table-responsive">
    <ng-container *ngIf="isLoading; else content">
      <div class="text-center py-5">
        <div class="spinner-border text-success" role="status">
          <span class="visually-hidden">Загрузка...</span>
        </div>
        <p class="mt-3">Загрузка пользователей...</p>
      </div>
    </ng-container>
    <ng-template #content>
      <table class="table table-striped table-hover align-middle">
        <thead class="table-success">
        <tr>
          <th>ID</th>
          <th>ФИО</th>
          <th>Телефон</th>
          <th>Возраст</th>
          <th>Пол</th>
          <th>Должность</th>
          <th width="30px">Действия</th>
        </tr>
        </thead>
        <tbody>

        <tr *ngFor="let user of users; trackBy: trackById">
          <td>{{ user.id}}</td>
          <td>{{ user.fullname || "Не указано" }}</td>
          <td>{{ user.phone || "Не указано"}}</td>
          <td>{{ user.age || "Не указано"}}</td>
          <td>{{ getGenderText(user.gender) || "Не указано"}}</td>
          <td>{{ getPositionText(user.position) || "Не указано"}}</td>
          <td>
            <div class="d-flex flex-column gap-2">
              <button
                class="btn btn-secondary btn-sm" (click)="openAccessModal(user)">
                Доступ
              </button>
              <button class="btn btn-success btn-sm" (click)="openEditModal(user)">
                Редактировать
              </button>
              <button class="btn btn-danger btn-sm" (click)="openDeleteModal(user)" >
                Удалить
              </button>
            </div>
          </td>
        </tr>
        <tr *ngIf="users.length === 0">
          <td colspan="7" class="text-center">Нет пользователей</td>
        </tr>
        </tbody>
      </table>
    </ng-template>
  </div>
</div>
<!--Моадльные окна которые в колонке действия-->

<app-delete-modal></app-delete-modal>
<app-edit-modal></app-edit-modal>
<app-access-modal></app-access-modal>
